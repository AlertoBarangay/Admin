<html>
  <head><title></title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- Popper JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<!----font awesome-->
<script src="https://use.fontawesome.com/releases/v5.15.1/js/all.js" data-auto-replace-svg="nest"></script>

<!---flaticon-->
<link rel="stylesheet" type="text/css" href="C:\Users\Jan Cuvinar\Desktop\CVSu - e Guidance\font\flaticon.css">

<!--------CSS------->
<link rel="stylesheet" href="CvsuGuidance.css">
    <style>
      html,body
      {
        height:100%;
        text-align: center;
        margin: 0;
        padding: 0;
      }
        </style>
  </head>

  <body>
<!--navigation--> 
<nav class="navbar bg-dark navbar-dark navbar-expand-md">
  <div class="container">
    
    <a href="" class="navbar-brand"><img src="logo.png" alt="logo" title="logo"></a>

    <button class="navbar-toggler" type="button" data-toggle="collapse"
      data-target="#nabvarResponsive">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="nabvarResponsive">
      <ul class="navbar-nav ml-auto">

        <li class="nav-item active">
            <a class="nav-link" href="index.html">
            </i>Home</a>
        </li>

        </li>

        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="" id="#navbarDropdown" 
              role="button" data-toggle="dropdown">Emergency Report</a>
                  <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="Emergency.html">Reports</a>
                  <div class="dropdown-divider"></div>
                  <a class="dropdown-item" href="Update.html">Update</a>
                </div>
          </li>

        <li class="nav-item active">
            <a class="nav-link" href="Resident.html">
            </i>Resident Information</a>
        </li>
      </ul>
    </div>
  </div>    
</nav>
    <div class="container mt-3">
          
      <table class="table">
        <thead>
          <th>Phone Number</th>
          <th>Date</th>
          <th>Comment</th>
          <th>Incident</th>
          <th>Status</th>
        </thead>

        <tbody id="tbody1">
        </tbody>
      </table>
    </div>
            <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>

        <!-- TODO: Add SDKs for Firebase products that you want to use
            https://firebase.google.com/docs/web/setup#available-libraries -->
        <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-analytics.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-database.js"></script>

        <script>
          // Your web app's Firebase configuration
          // For Firebase JS SDK v7.20.0 and later, measurementId is optional
          const firebaseConfig = {
            apiKey: "AIzaSyDwtr3FT5EcxaR8J_TqUm0TDsZf3uflZjc",
            authDomain: "alerto-barangay-8b131.firebaseapp.com",
            databaseURL: "https://alerto-barangay-8b131-default-rtdb.firebaseio.com",
            projectId: "alerto-barangay-8b131",
            storageBucket: "alerto-barangay-8b131.appspot.com",
            messagingSenderId: "737869365215",
            appId: "1:737869365215:web:e2da71819750b21d9cce6a",
            measurementId: "G-27R0YR9BJS"
          };

          // Initialize Firebase
          const app = initializeApp(firebaseConfig);
          const analytics = getAnalytics(app);

          //-------------GET ALL DATA-------------//

        function SelectAllData(){
          firebase.database().ref('Report').once('value',
          function(AllRecords){
            AllRecords.forEach(
              function(CurrentRecord){
                var comment = CurrentRecord.val().comments;
                var date = CurrentRecord.val().date;
                var phone_no = CurrentRecord.val().mobile_no;
                var status = CurrentRecord.val().status;
                var incident = CurrentRecord.val().type;
                AddItemsToTable(comment,date,phone_no,status,incident);

              }
            )
          });
        }

        window.onload = SelectAllData;

//-----------FILLING THE TABLE-------------//

        
        function AddItemsToTable(comment,date,phone_no,status,incident){
          var tbody = document.getElementById('tbody1');
          var trow = document.createElement('tr');
          var td1 = document.createElement('td');
          var td2 = document.createElement('td');
          var td3 = document.createElement('td');
          var td4 = document.createElement('td');
          var td5 = document.createElement('td');
          td1.innerHTML= phone_no;
          td2.innerHTML= date;
          td3.innerHTML= comment;
          td4.innerHTML= incident;
          td5.innerHTML= status;
          trow.appendChild(td1); 
          trow.appendChild(td2); 
          trow.appendChild(td3); 
          trow.appendChild(td4); 
          trow.appendChild(td5);
          tbody.appendChild(trow);
        }

       

    </script>


  </body>

</html>
