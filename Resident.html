<html>
  <head>
    <title>Alerto Barangay</title>
    <link rel="icon" href="/images/logo.png">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- Popper JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<!----font awesome-->
<script src="https://use.fontawesome.com/releases/v5.15.1/js/all.js" data-auto-replace-svg="nest"></script>

<!---flaticon-->
<link rel="stylesheet" type="text/css" href="C:\Users\Jan Cuvinar\Desktop\CVSu - e Guidance\font\flaticon.css">

<!--------CSS------->
<link rel="stylesheet" href="CvsuGuidance.css">
    <style>
      html,body
      {
        height:100%;
        text-align: center;
        margin: 0;
        padding: 0;
      }

      tr:nth-child(even){
        background-color: rgba(108,117,125,0.1);
      }

        </style>
  </head>

  <body>

    <!--navigation--> 
    <nav class="navbar bg-dark navbar-dark navbar-expand-md">
      <div class="container">
        
        <a href="" class="navbar-brand"><img style="width: 3rem;" src="/images/logo.png" alt="logo" title="logo"></a>
    
        <button class="navbar-toggler" type="button" data-toggle="collapse"
          data-target="#nabvarResponsive">
          <span class="navbar-toggler-icon"></span>
        </button>
    
        <div class="collapse navbar-collapse" id="nabvarResponsive">
          <ul class="navbar-nav ml-auto">
    
            <li class="nav-item active">
                <a class="nav-link" href="index.html">
                </i>Reports</a>
            </li>
    
            </li>
    
    
            <li class="nav-item active">
                <a class="nav-link" href="Resident.html">
                </i>Resident Information</a>
            </li>
          </ul>
        </div>
      </div>    
    </nav>
    <div class="container mt-3">
          
      <table class="table bg-white shadow-sm">
        <thead class="bg-dark text-white">
          <th >Voter's ID</th>
          <th>Full Name</th>
          <th>Address</th>
          <th>Email</th>
          <th>Phone Number</th>
        </thead>

        <tbody id="tbody1">
        </tbody>
      </table>
    </div>
            <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>

        <!-- TODO: Add SDKs for Firebase products that you want to use
            https://firebase.google.com/docs/web/setup#available-libraries -->
        <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-analytics.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-database.js"></script>

        <script>
          // Your web app's Firebase configuration
          // For Firebase JS SDK v7.20.0 and later, measurementId is optional
          const firebaseConfig = {
          apiKey: "AIzaSyDwtr3FT5EcxaR8J_TqUm0TDsZf3uflZjc",
          authDomain: "alerto-barangay-8b131.firebaseapp.com",
          databaseURL: "https://alerto-barangay-8b131-default-rtdb.firebaseio.com",
          projectId: "alerto-barangay-8b131",
          storageBucket: "alerto-barangay-8b131.appspot.com",
          messagingSenderId: "737869365215",
          appId: "1:737869365215:web:e2da71819750b21d9cce6a",
          measurementId: "G-27R0YR9BJS"
          };
          // Initialize Firebase
          firebase.initializeApp(firebaseConfig);
          firebase.analytics();

          //-------------GET ALL DATA-------------//

        function SelectAllData(){
          firebase.database().ref('Users').orderByChild('votersid').once('value',
          function(AllRecords){
            AllRecords.forEach(
              function(CurrentRecord){
                var name = CurrentRecord.val().name || '';
                var votersid = CurrentRecord.val().votersid || '';
                var address = CurrentRecord.val().email || '';
                var email = CurrentRecord.val().address || '';
                var mobile_no = CurrentRecord.val().phone.subscriberNumber|| '';
                const tableData = [votersid,name,email,address,mobile_no]
                AddItemsToTable(tableData);

              }
            )
          });
        }

        window.onload = SelectAllData;

//-----------FILLING THE TABLE-------------//

        function AddItemsToTable(data){
          var tbody = document.getElementById('tbody1');
          var trow = document.createElement('tr');

          for(var i = 0; i < data.length; i++){
            var td = document.createElement('td');
            td.innerHTML= data[i];
            trow.appendChild(td); 
          }
          tbody.appendChild(trow);
        
        }

       

    </script>


  </body>

</html>
